<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>공연 예매 상세</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            tickethub: {
              DEFAULT: '#FF6F3C',
              dark: '#e65b25'
            }
          }
        }
      }
    }
  </script>
</head>
<body class="bg-gray-100 min-h-screen py-10 px-4">
<div class="max-w-5xl mx-auto bg-white shadow-lg rounded-xl p-8">
  <h2 class="text-3xl font-bold text-center text-tickethub mb-8"
      th:text="${performanceBookDetail.title}">
    공연 제목
  </h2>

  <div class="flex flex-col items-center mb-8">
    <img th:src="@{${performanceBookDetail.url}}" alt="공연 이미지"
         class="rounded-lg shadow max-w-[300px] mb-4"/>
    <p class="text-lg font-semibold">총 예매 금액: <span
        th:text="${performanceBookDetail.totalPrice}">0</span> 원</p>
    <p class="text-lg font-semibold">총 예매 수량: <span
        th:text="${performanceBookDetail.totalQuantity}">0</span> 매</p>
  </div>

  <div class="overflow-x-auto">
    <h4 class="text-xl font-bold mb-4 text-gray-700">예매 목록</h4>
    <table class="w-full text-center border text-sm">
      <thead class="bg-gray-100">
      <tr>
        <th class="border px-4 py-2">예매 ID</th>
        <th class="border px-4 py-2">사용자</th>
        <th class="border px-4 py-2">총 금액</th>
        <th class="border px-4 py-2">총 예매 수량</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="book : ${bookAdminListPage.content}"
          th:onclick="|window.location.href='/admin/performances/book/${performanceBookDetail.id}/${book.id}'|"
          class="hover:bg-gray-100 cursor-pointer">
        <td class="border px-4 py-2" th:text="${book.id}">1</td>
        <td class="border px-4 py-2" th:text="${book.username}">사용자</td>
        <td class="border px-4 py-2" th:text="${book.totalPrice}">0</td>
        <td class="border px-4 py-2" th:text="${book.quantity}">0</td>
      </tr>
      <tr th:if="${#lists.isEmpty(bookAdminListPage.content)}">
        <td colspan="4" class="text-center py-4 text-gray-500">예매 정보가 없습니다.</td>
      </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <div th:if="${bookAdminListPage.totalPages > 1}" class="flex justify-center gap-2 mt-10">
    <a th:href="@{|/admin/performances/book/${performanceBookDetail.id}?page=${bookAdminListPage.number - 1}&size=5|}"
       th:if="${bookAdminListPage.number > 0}"
       class="px-3 py-1 border rounded hover:bg-gray-200">&laquo;</a>

    <a th:each="i : ${#numbers.sequence(0, bookAdminListPage.totalPages - 1)}"
       th:href="@{|/admin/performances/book/${performanceBookDetail.id}?page=${i}&size=5|}"
       th:text="${i + 1}"
       th:classappend="${i == bookAdminListPage.number} ? 'bg-tickethub text-white' : 'hover:bg-gray-100'"
       class="px-3 py-1 border rounded"></a>

    <a th:href="@{|/admin/performances/book/${performanceBookDetail.id}?page=${bookAdminListPage.number + 1}&size=5|}"
       th:if="${bookAdminListPage.number < bookAdminListPage.totalPages - 1}"
       class="px-3 py-1 border rounded hover:bg-gray-200">&raquo;</a>
  </div>
</div>
</body>
</html>

<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--  <meta charset="UTF-8">-->
<!--  <title>공연 예매 상세</title>-->
<!--  &lt;!&ndash; Bootstrap CSS &ndash;&gt;-->
<!--  <link-->
<!--      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"-->
<!--      rel="stylesheet"-->
<!--  >-->
<!--</head>-->
<!--<style>-->
<!--  tr:hover {-->
<!--    background-color: #f1f1f1;-->
<!--  }-->
<!--</style>-->
<!--<body>-->
<!--<div class="container my-5">-->
<!--  <h2 class="text-center mb-4" th:text="${performanceBookDetail.title}">공연 제목</h2>-->

<!--  <div class="text-center mb-4">-->
<!--    <img th:src="@{${performanceBookDetail.url}}" alt="공연 이미지" class="img-fluid rounded"-->
<!--         style="max-width: 300px;">-->
<!--  </div>-->

<!--  <div class="text-center mb-4">-->
<!--    <p><strong>총 예매 금액:</strong> <span th:text="${performanceBookDetail.totalPrice}">0</span>원</p>-->
<!--    <p><strong>총 예매 수량:</strong> <span th:text="${performanceBookDetail.totalQuantity}">0</span>매-->
<!--    </p>-->
<!--  </div>-->

<!--  <div class="book-list">-->
<!--    <h4 class="mb-3">예매 목록</h4>-->
<!--    <table class="table table-bordered table-hover text-center">-->
<!--      <thead class="table-light">-->
<!--      <tr>-->
<!--        <th>예매 ID</th>-->
<!--        <th>사용자</th>-->
<!--        <th>총 금액</th>-->
<!--        <th>총 예매 수량</th>-->
<!--      </tr>-->
<!--      </thead>-->
<!--      <tbody>-->
<!--      <tr th:each="book : ${bookAdminListPage.content}"-->
<!--          th:onclick="|window.location.href='/admin/performances/book/${performanceBookDetail.id}/${book.id}'|"-->
<!--          style="cursor: pointer;">-->
<!--        <td th:text="${book.id}">1</td>-->
<!--        <td th:text="${book.username}">사용자</td>-->
<!--        <td th:text="${book.totalPrice}">0</td>-->
<!--        <td th:text="${book.quantity}">0</td>-->
<!--      </tr>-->
<!--      <tr th:if="${#lists.isEmpty(bookAdminListPage.content)}">-->
<!--        <td colspan="4">예매 정보가 없습니다.</td>-->
<!--      </tr>-->
<!--      </tbody>-->
<!--    </table>-->
<!--  </div>-->

<!--  &lt;!&ndash; Pagination &ndash;&gt;-->
<!--  <nav th:if="${bookAdminListPage.totalPages > 1}">-->
<!--    <ul class="pagination justify-content-center mt-4">-->
<!--      <li class="page-item" th:classappend="${bookAdminListPage.number == 0} ? 'disabled'">-->
<!--        <a class="page-link"-->
<!--           th:href="@{|/admin/performances/book/${performanceBookDetail.id}?page=${bookAdminListPage.number - 1}&size=5|}">-->
<!--          이전-->
<!--        </a>-->
<!--      </li>-->

<!--      <li class="page-item"-->
<!--          th:each="i : ${#numbers.sequence(0, bookAdminListPage.totalPages - 1)}"-->
<!--          th:classappend="${i == bookAdminListPage.number} ? 'active'">-->
<!--        <a class="page-link"-->
<!--           th:href="@{|/admin/performances/book/${performanceBookDetail.id}?page=${i}&size=5|}"-->
<!--           th:text="${i + 1}">1</a>-->
<!--      </li>-->

<!--      <li class="page-item"-->
<!--          th:classappend="${bookAdminListPage.number >= bookAdminListPage.totalPages - 1} ? 'disabled'">-->
<!--        <a class="page-link"-->
<!--           th:href="@{|/admin/performances/book/${performanceBookDetail.id}?page=${bookAdminListPage.number + 1}&size=5|}">-->
<!--          다음-->
<!--        </a>-->
<!--      </li>-->
<!--    </ul>-->
<!--  </nav>-->
<!--</div>-->

<!--&lt;!&ndash; Bootstrap JS (optional) &ndash;&gt;-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>-->
<!--</body>-->
<!--</html>-->
